<div id="map"></div>
<script type='text/javascript'>
	var map = L.mapbox.map('map', 'ilyakavalerov.map-m06icghb');
</script>


<div id="side-bar">
	<div class="searcharea">
		<input type="text" placeholder="Set Your Location...">
		<button>Search!</button>
	</div>

	<ul class="tabs group">  
		<li><a href="#">Locations</a></li>
		<li><a href="#">Other Collections</a></li>
		<li><a href="#">Add a Location</a></li>
	</ul>
	
	<ul class="data-list">
		<li>
			<ul class="location">
				<li><a href="#">Kava Coffee</a></li>
				<li>Frequented</li>
				<li>Tags
					<dl class="group">
						<dt>NO-WIFI</dt>
						<dt>GREAT OUTDOOR SEATING</dt>
						<dt>ALCOHOLIC DRINKS</dt>
					</dl>
				</li>
				<li><a href="#">Detail View</a></li>
			</ul>
		</li>

		<li>
			<ul class="location">
				<li><a href="#">Kava Coffee</a></li>
				<li>Frequented</li>
				<li>Tags
					<dl class="group">
						<dt>NO-WIFI</dt>
						<dt>GREAT OUTDOOR SEATING</dt>
						<dt>ALCOHOLIC DRINKS</dt>
					</dl>
				</li>
				<li><a href="#">Detail View</a></li>
			</ul>
		</li>
		<li>
			<ul class="location">
				<li><a href="#">Kava Coffee</a></li>
				<li>Frequented</li>
				<li>Tags
					<dl class="group">
						<dt>NO-WIFI</dt>
						<dt>GREAT OUTDOOR SEATING</dt>
						<dt>ALCOHOLIC DRINKS</dt>
					</dl>
				</li>
				<li><a href="#">Detail View</a></li>
			</ul>
		</li>
		<li>
			<ul class="location">
				<li><a href="#">Kava Coffee</a></li>
				<li>Frequented</li>
				<li>Tags
					<dl class="group">
						<dt>NO-WIFI</dt>
						<dt>GREAT OUTDOOR SEATING</dt>
						<dt>ALCOHOLIC DRINKS</dt>
					</dl>
				</li>
				<li><a href="#">Detail View</a></li>
			</ul>
		</li>
		<li>
			<ul class="location">
				<li><a href="#">Kava Coffee</a></li>
				<li>Frequented</li>
				<li>Tags
					<dl class="group">
						<dt>NO-WIFI</dt>
						<dt>GREAT OUTDOOR SEATING</dt>
						<dt>ALCOHOLIC DRINKS</dt>
					</dl>
				</li>
				<li><a href="#">Detail View</a></li>
			</ul>
		</li>
		<li>
			<ul class="location">
				<li><a href="#">Kava Coffee</a></li>
				<li>Frequented</li>
				<li>Tags
					<dl class="group">
						<dt>NO-WIFI</dt>
						<dt>GREAT OUTDOOR SEATING</dt>
						<dt>ALCOHOLIC DRINKS</dt>
					</dl>
				</li>
				<li><a href="#">Detail View</a></li>
			</ul>
		</li>
		<li>
			<ul class="location">
				<li><a href="#">Kava Coffee</a></li>
				<li>Frequented</li>
				<li>Tags
					<dl class="group">
						<dt>NO-WIFI</dt>
						<dt>GREAT OUTDOOR SEATING</dt>
						<dt>ALCOHOLIC DRINKS</dt>
					</dl>
				</li>
				<li><a href="#">Detail View</a></li>
			</ul>
		</li>

	</ul>
	
<!-- 		<label>
		<input type="checkbox" value="checked">	
		Only include overlapping Collections
	</label> -->
</div>

<script type="text/javascript">
	// mapbox text to location translator
	// var geocoder2 = L.mapbox.geocoder('ilyakavalerov.map-m06icghb');

	$('.searcharea button').on('click', function (event) {
		
		var address = $(event.target).prev().val().toString();

		var geocoder = new MapQuest.Geocoder( API.MapQuest.key() );

		geocoder.query(address, reCenterMap);

		// geocoder2.query($(event.target).prev().val().toString(), reCenterMap);
	})

	// uses predefined map, assumes data format from geocoder
	// recenters based on first result of geocoder
	function reCenterMap(lat, lng) {
		console.log("in recenter");
		var latLng = new L.LatLng(lat, lng)
		map.setView(latLng, 15);
	}
</script>
