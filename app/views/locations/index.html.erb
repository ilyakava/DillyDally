<div id="map"></div>
<script type='text/javascript'>
	var map = L.mapbox.map('map', "l") // API.MapBox.key() );
</script>

<script type="application/javascript" id="bootstrapped-locations">
	<%= @locations.to_json.html_safe %>
</script>

<div id="side-bar">
	
	<ul class="data-list">
		<li>
			<ul class="location">
				<li><a href="#">Kava Coffee</a></li>
				<li>Frequented</li>
				<li>Tags
					<dl class="group">
						<dt>NO-WIFI</dt>
						<dt>GREAT OUTDOOR SEATING</dt>
						<dt>ALCOHOLIC DRINKS</dt>
					</dl>
				</li>
				<li><a href="#">Detail View</a></li>
			</ul>
		</li>

		<li>
			<ul class="location">
				<li><a href="#">Kava Coffee</a></li>
				<li>Frequented</li>
				<li>Tags
					<dl class="group">
						<dt>NO-WIFI</dt>
						<dt>GREAT OUTDOOR SEATING</dt>
						<dt>ALCOHOLIC DRINKS</dt>
					</dl>
				</li>
				<li><a href="#">Detail View</a></li>
			</ul>
		</li>
		<li>
			<ul class="location">
				<li><a href="#">Kava Coffee</a></li>
				<li>Frequented</li>
				<li>Tags
					<dl class="group">
						<dt>NO-WIFI</dt>
						<dt>GREAT OUTDOOR SEATING</dt>
						<dt>ALCOHOLIC DRINKS</dt>
					</dl>
				</li>
				<li><a href="#">Detail View</a></li>
			</ul>
		</li>
		<li>
			<ul class="location">
				<li><a href="#">Kava Coffee</a></li>
				<li>Frequented</li>
				<li>Tags
					<dl class="group">
						<dt>NO-WIFI</dt>
						<dt>GREAT OUTDOOR SEATING</dt>
						<dt>ALCOHOLIC DRINKS</dt>
					</dl>
				</li>
				<li><a href="#">Detail View</a></li>
			</ul>
		</li>
		<li>
			<ul class="location">
				<li><a href="#">Kava Coffee</a></li>
				<li>Frequented</li>
				<li>Tags
					<dl class="group">
						<dt>NO-WIFI</dt>
						<dt>GREAT OUTDOOR SEATING</dt>
						<dt>ALCOHOLIC DRINKS</dt>
					</dl>
				</li>
				<li><a href="#">Detail View</a></li>
			</ul>
		</li>
		<li>
			<ul class="location">
				<li><a href="#">Kava Coffee</a></li>
				<li>Frequented</li>
				<li>Tags
					<dl class="group">
						<dt>NO-WIFI</dt>
						<dt>GREAT OUTDOOR SEATING</dt>
						<dt>ALCOHOLIC DRINKS</dt>
					</dl>
				</li>
				<li><a href="#">Detail View</a></li>
			</ul>
		</li>
		<li>
			<ul class="location">
				<li><a href="#">Kava Coffee</a></li>
				<li>Frequented</li>
				<li>Tags
					<dl class="group">
						<dt>NO-WIFI</dt>
						<dt>GREAT OUTDOOR SEATING</dt>
						<dt>ALCOHOLIC DRINKS</dt>
					</dl>
				</li>
				<li><a href="#">Detail View</a></li>
			</ul>
		</li>

	</ul>

	<!-- placeholder to use with replaceWith() -->
	<ul class="data-list"></ul>
	
<!-- 		<label>
		<input type="checkbox" value="checked">	
		Only include overlapping Collections
	</label> -->
</div>

<script type="application/javascript">
	$(function () {
		// where to render recenter map searchbar
		// and what kind of sidebar-router to create
		window.DD.initialize(function () {
			var locations = ($('#bootstrapped-locations').html());

			new DD.Routers.Locations($('#side-bar'), $('.data-list'), locations);
			Backbone.history.start();
		})
	});

</script>


